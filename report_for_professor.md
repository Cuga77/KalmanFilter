# Отчет о выполнении лабораторной работы
## Тема: Использование фильтра Калмана в задаче определения ориентации тела

### 1. Поставленная задача
Целью работы было изучение и программная реализация алгоритмов фильтрации Калмана для оценки состояния динамической системы (тела, подвешенного на струне) на основе теоретических материалов методического пособия.

### 2. Реализованные модели
В ходе работы на языке Python были реализованы три математические модели фильтра Калмана:

1.  **Модель "Перманентное вращение" (Constant Velocity)**
    *   *Описание:* Простейшая кинематическая модель, предполагающая вращение с постоянной скоростью ($\ddot{x} = 0$).
    *   *Назначение:* Базовая оценка, не требующая знания физических параметров системы.

2.  **Модель "Крутильные колебания" (Harmonic Oscillator)**
    *   *Описание:* Физически корректная модель, основанная на уравнении гармонического осциллятора ($\ddot{x} + \omega^2 x = 0$).
    *   *Назначение:* Обеспечивает наилучшую точность при условии точного знания параметров системы (собственной частоты $\omega$).

3.  **Адаптивный фильтр Калмана (Adaptive Kalman Filter)**
    *   *Описание:* Реализация метода "Уточнение ковариации" (раздел 1.6 методического пособия).
    *   *Назначение:* Автоматическая подстройка матрицы ковариации шума процесса ($Q$) в реальном времени. Позволяет фильтру сохранять устойчивость и точность даже при неверно заданных параметрах модели.

### 3. Проведенные эксперименты и результаты

Для верификации алгоритмов была разработана среда имитационного моделирования, позволяющая генерировать синтетические данные с заданным уровнем шума и проводить сравнительный анализ фильтров.

**Ключевые результаты:**

*   **Сравнение точности:** В условиях точного знания параметров гармоническая модель показала минимальную среднеквадратичную ошибку (MSE ~0.04), значительно превзойдя кинематическую модель (MSE ~19.9).
*   **Анализ устойчивости (Robustness):** Был проведен эксперимент с намеренным введением ошибки в параметры модели (рассинхронизация частоты).
    *   *Результат:* Стандартный гармонический фильтр начал расходиться с истинным значением из-за ошибки моделирования. Адаптивный фильтр успешно детектировал расхождение и скорректировал свои параметры, сохранив высокую точность оценки.

### 4. Сравнение с другими методами
Дополнительно было проведено сравнение фильтра Калмана с классическими методами сглаживания: **Скользящим средним (Moving Average)** и **Экспоненциальным сглаживанием (EMA)**.

*   **Результат (см. `python/method_comparison.html`):**
    *   Простые методы (MA, EMA) эффективно подавляют шум, но вносят существенную **задержку (фазовый сдвиг)**, так как реагируют на изменения с опозданием.
    *   Фильтр Калмана, используя модель динамики системы, способен предсказывать поведение и отслеживать быстрые гармонические колебания **практически без задержки**, что критически важно для задач управления и навигации.

### 5. Визуализация
Разработан инструмент для генерации интерактивных графиков (`python/kalman_results.html`, `python/kalman_experiments.html`, `python/method_comparison.html`), позволяющих детально анализировать поведение оценок и ошибок фильтрации во времени.

---
**Вывод:** Работа демонстрирует преимущество использования физически обоснованных моделей перед кинематическими, а также необходимость применения адаптивных алгоритмов в условиях неопределенности параметров реальной системы.
